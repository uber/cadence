// On an M1 Pro Mac, 8 cores (4 high, 4 low):

❯ go test -bench . -test.run xxx -cpu 1,2,4,8,32 .
goos: darwin
goarch: arm64
pkg: github.com/uber/cadence/common/clock
BenchmarkLimiter/allow/serial/real            	12844882	        78.25 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/real
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1878, denied: 8122
    ratelimiter_test.go:93: allowed: 94397, denied: 905603
    ratelimiter_test.go:93: allowed: 1006051, denied: 11838831
BenchmarkLimiter/allow/serial/real-2          	15302185	        78.30 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/real-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1788, denied: 8212
    ratelimiter_test.go:93: allowed: 79393, denied: 920607
    ratelimiter_test.go:93: allowed: 1199186, denied: 14102999
BenchmarkLimiter/allow/serial/real-4          	15241458	        78.17 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/real-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1783, denied: 8217
    ratelimiter_test.go:93: allowed: 79704, denied: 920296
    ratelimiter_test.go:93: allowed: 1192327, denied: 14049131
BenchmarkLimiter/allow/serial/real-8          	15201562	        78.20 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/real-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1830, denied: 8170
    ratelimiter_test.go:93: allowed: 79915, denied: 920085
    ratelimiter_test.go:93: allowed: 1189757, denied: 14011805
BenchmarkLimiter/allow/serial/real-32         	15315751	        78.47 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/real-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1775, denied: 8225
    ratelimiter_test.go:93: allowed: 79326, denied: 920674
    ratelimiter_test.go:93: allowed: 1202823, denied: 14112928
BenchmarkLimiter/allow/serial/wrapped         	10756880	       114.2 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/wrapped
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2076, denied: 7924
    ratelimiter_test.go:93: allowed: 112540, denied: 887460
    ratelimiter_test.go:93: allowed: 1229843, denied: 9527037
BenchmarkLimiter/allow/serial/wrapped-2       	10819029	       109.5 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/wrapped-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2101, denied: 7899
    ratelimiter_test.go:93: allowed: 111898, denied: 888102
    ratelimiter_test.go:93: allowed: 1185917, denied: 9633112
BenchmarkLimiter/allow/serial/wrapped-4       	10917270	       109.7 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/wrapped-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2089, denied: 7911
    ratelimiter_test.go:93: allowed: 110900, denied: 889100
    ratelimiter_test.go:93: allowed: 1198603, denied: 9718667
BenchmarkLimiter/allow/serial/wrapped-8       	10970124	       109.3 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/wrapped-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2081, denied: 7919
    ratelimiter_test.go:93: allowed: 110373, denied: 889627
    ratelimiter_test.go:93: allowed: 1199730, denied: 9770394
BenchmarkLimiter/allow/serial/wrapped-32      	10865845	       109.4 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/wrapped-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2120, denied: 7880
    ratelimiter_test.go:93: allowed: 111422, denied: 888578
    ratelimiter_test.go:93: allowed: 1190116, denied: 9675729
BenchmarkLimiter/allow/serial/mocked_timesource            	11834595	       105.3 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/mocked_timesource
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2999, denied: 7001
    ratelimiter_test.go:93: allowed: 200999, denied: 799001
    ratelimiter_test.go:93: allowed: 2367918, denied: 9466677
BenchmarkLimiter/allow/serial/mocked_timesource-2          	12149443	        98.11 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/mocked_timesource-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2999, denied: 7001
    ratelimiter_test.go:93: allowed: 200999, denied: 799001
    ratelimiter_test.go:93: allowed: 2430888, denied: 9718555
BenchmarkLimiter/allow/serial/mocked_timesource-4          	12213734	        98.86 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/mocked_timesource-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2999, denied: 7001
    ratelimiter_test.go:93: allowed: 200999, denied: 799001
    ratelimiter_test.go:93: allowed: 2443746, denied: 9769988
BenchmarkLimiter/allow/serial/mocked_timesource-8          	12125677	        97.83 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/mocked_timesource-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2999, denied: 7001
    ratelimiter_test.go:93: allowed: 200999, denied: 799001
    ratelimiter_test.go:93: allowed: 2426135, denied: 9699542
BenchmarkLimiter/allow/serial/mocked_timesource-32         	12255015	        98.89 ns/op
--- BENCH: BenchmarkLimiter/allow/serial/mocked_timesource-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2999, denied: 7001
    ratelimiter_test.go:93: allowed: 200999, denied: 799001
    ratelimiter_test.go:93: allowed: 2452002, denied: 9803013
BenchmarkLimiter/allow/parallel/real                       	14827628	        80.90 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/real
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1825, denied: 8175
    ratelimiter_test.go:109: allowed: 81902, denied: 918098
    ratelimiter_test.go:109: allowed: 1200413, denied: 13627215
BenchmarkLimiter/allow/parallel/real-2                     	12090608	        93.34 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/real-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 3002, denied: 6998
    ratelimiter_test.go:109: allowed: 100221, denied: 899779
    ratelimiter_test.go:109: allowed: 1129818, denied: 10960790
BenchmarkLimiter/allow/parallel/real-4                     	 9770733	       120.7 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/real-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 3101, denied: 6899
    ratelimiter_test.go:109: allowed: 124303, denied: 875697
    ratelimiter_test.go:109: allowed: 1183173, denied: 8587560
BenchmarkLimiter/allow/parallel/real-8                     	 7003485	       202.8 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/real-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2082, denied: 7918
    ratelimiter_test.go:109: allowed: 978588, denied: 21412
    ratelimiter_test.go:109: allowed: 3186415, denied: 2606553
    ratelimiter_test.go:109: allowed: 5176306, denied: 1827179
BenchmarkLimiter/allow/parallel/real-32                    	 4022482	       261.6 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/real-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 934790, denied: 65210
    ratelimiter_test.go:109: allowed: 4019980, denied: 2502
BenchmarkLimiter/allow/parallel/wrapped                    	10849005	       118.3 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/wrapped
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2102, denied: 7898
    ratelimiter_test.go:109: allowed: 111601, denied: 888399
    ratelimiter_test.go:109: allowed: 1277565, denied: 9571440
BenchmarkLimiter/allow/parallel/wrapped-2                  	 8386556	       137.1 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/wrapped-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2720, denied: 7280
    ratelimiter_test.go:109: allowed: 191219, denied: 808781
    ratelimiter_test.go:109: allowed: 872412, denied: 5217950
    ratelimiter_test.go:109: allowed: 1150936, denied: 7235620
BenchmarkLimiter/allow/parallel/wrapped-4                  	 6059546	       197.9 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/wrapped-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2986, denied: 7014
    ratelimiter_test.go:109: allowed: 199001, denied: 800999
    ratelimiter_test.go:109: allowed: 1199897, denied: 4859649
BenchmarkLimiter/allow/parallel/wrapped-8                  	 4514851	       288.1 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/wrapped-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 3162, denied: 6838
    ratelimiter_test.go:109: allowed: 266770, denied: 733230
    ratelimiter_test.go:109: allowed: 1273783, denied: 3241068
BenchmarkLimiter/allow/parallel/wrapped-32                 	 3013860	       397.3 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/wrapped-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 4938, denied: 5062
    ratelimiter_test.go:109: allowed: 399121, denied: 600879
    ratelimiter_test.go:109: allowed: 1198371, denied: 1815489
BenchmarkLimiter/allow/parallel/mocked_timesource          	11567175	       108.4 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/mocked_timesource
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2999, denied: 7001
    ratelimiter_test.go:109: allowed: 200999, denied: 799001
    ratelimiter_test.go:109: allowed: 2314434, denied: 9252741
BenchmarkLimiter/allow/parallel/mocked_timesource-2        	 8370556	       143.8 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/mocked_timesource-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2999, denied: 7001
    ratelimiter_test.go:109: allowed: 200999, denied: 799001
    ratelimiter_test.go:109: allowed: 1675111, denied: 6695445
BenchmarkLimiter/allow/parallel/mocked_timesource-4        	 6980335	       176.6 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/mocked_timesource-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2999, denied: 7001
    ratelimiter_test.go:109: allowed: 200999, denied: 799001
    ratelimiter_test.go:109: allowed: 1397066, denied: 5583269
BenchmarkLimiter/allow/parallel/mocked_timesource-8        	 6381598	       198.7 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/mocked_timesource-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2999, denied: 7001
    ratelimiter_test.go:109: allowed: 200999, denied: 799001
    ratelimiter_test.go:109: allowed: 1277319, denied: 5104279
BenchmarkLimiter/allow/parallel/mocked_timesource-32       	 5433103	       220.3 ns/op
--- BENCH: BenchmarkLimiter/allow/parallel/mocked_timesource-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2999, denied: 7001
    ratelimiter_test.go:109: allowed: 200999, denied: 799001
    ratelimiter_test.go:109: allowed: 1087620, denied: 4345483
BenchmarkLimiter/reserve-canceling-every-3/serial/real     	 6477464	       186.1 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1177, denied: 8823
    ratelimiter_test.go:93: allowed: 1181, denied: 998819
    ratelimiter_test.go:93: allowed: 1178, denied: 6476286
BenchmarkLimiter/reserve-canceling-every-3/serial/real-2   	 6994190	       171.1 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1210, denied: 8790
    ratelimiter_test.go:93: allowed: 1198, denied: 998802
    ratelimiter_test.go:93: allowed: 1179, denied: 6993011
BenchmarkLimiter/reserve-canceling-every-3/serial/real-4   	 6945990	       173.3 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1187, denied: 8813
    ratelimiter_test.go:93: allowed: 1189, denied: 998811
    ratelimiter_test.go:93: allowed: 1191, denied: 6944799
BenchmarkLimiter/reserve-canceling-every-3/serial/real-8   	 6892713	       174.5 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1194, denied: 8806
    ratelimiter_test.go:93: allowed: 1187, denied: 998813
    ratelimiter_test.go:93: allowed: 1176, denied: 6891537
BenchmarkLimiter/reserve-canceling-every-3/serial/real-32  	 6869817	       173.8 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1185, denied: 8815
    ratelimiter_test.go:93: allowed: 1184, denied: 998816
    ratelimiter_test.go:93: allowed: 1176, denied: 6868641
BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time            	11673127	       102.4 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1724, denied: 8276
    ratelimiter_test.go:93: allowed: 1724, denied: 998276
    ratelimiter_test.go:93: allowed: 1725, denied: 11671402
BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-2          	11700524	       102.0 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1742, denied: 8258
    ratelimiter_test.go:93: allowed: 1739, denied: 998261
    ratelimiter_test.go:93: allowed: 1740, denied: 11698784
BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-4          	11772952	       102.0 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1734, denied: 8266
    ratelimiter_test.go:93: allowed: 1736, denied: 998264
    ratelimiter_test.go:93: allowed: 1734, denied: 11771218
BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-8          	11777878	       107.0 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1736, denied: 8264
    ratelimiter_test.go:93: allowed: 1737, denied: 998263
    ratelimiter_test.go:93: allowed: 1733, denied: 11776145
BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-32         	11613970	       102.1 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/real_pinned_time-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 1733, denied: 8267
    ratelimiter_test.go:93: allowed: 1782, denied: 998218
    ratelimiter_test.go:93: allowed: 1728, denied: 11612242
BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped                     	 5835865	       205.6 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2069, denied: 7931
    ratelimiter_test.go:93: allowed: 1987, denied: 998013
    ratelimiter_test.go:93: allowed: 1985, denied: 5833880
BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-2                   	 6577400	       181.0 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2040, denied: 7960
    ratelimiter_test.go:93: allowed: 2097, denied: 997903
    ratelimiter_test.go:93: allowed: 2096, denied: 6575304
BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-4                   	 6443164	       182.4 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2024, denied: 7976
    ratelimiter_test.go:93: allowed: 2035, denied: 997965
    ratelimiter_test.go:93: allowed: 1977, denied: 6441187
BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-8                   	 6511176	       182.5 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2079, denied: 7921
    ratelimiter_test.go:93: allowed: 2019, denied: 997981
    ratelimiter_test.go:93: allowed: 2003, denied: 6509173
BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-32                  	 6365055	       185.7 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/wrapped-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2007, denied: 7993
    ratelimiter_test.go:93: allowed: 2040, denied: 997960
    ratelimiter_test.go:93: allowed: 2060, denied: 6362995
BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource           	 6416797	       187.9 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2142, denied: 7858
    ratelimiter_test.go:93: allowed: 2142, denied: 997858
    ratelimiter_test.go:93: allowed: 2142, denied: 6414655
BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-2         	 7353988	       162.7 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2142, denied: 7858
    ratelimiter_test.go:93: allowed: 2142, denied: 997858
    ratelimiter_test.go:93: allowed: 2142, denied: 7351846
BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-4         	 7187041	       164.6 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2142, denied: 7858
    ratelimiter_test.go:93: allowed: 2142, denied: 997858
    ratelimiter_test.go:93: allowed: 2142, denied: 7184899
BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-8         	 7259767	       165.1 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2142, denied: 7858
    ratelimiter_test.go:93: allowed: 2142, denied: 997858
    ratelimiter_test.go:93: allowed: 2142, denied: 7257625
BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-32        	 7117714	       166.5 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/serial/mocked_timesource-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 2142, denied: 7858
    ratelimiter_test.go:93: allowed: 2142, denied: 997858
    ratelimiter_test.go:93: allowed: 2142, denied: 7115572
BenchmarkLimiter/reserve-canceling-every-3/parallel/real                      	 6437083	       186.8 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1184, denied: 8816
    ratelimiter_test.go:109: allowed: 1177, denied: 998823
    ratelimiter_test.go:109: allowed: 1183, denied: 6435900
BenchmarkLimiter/reserve-canceling-every-3/parallel/real-2                    	 9152023	       134.0 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1150, denied: 8850
    ratelimiter_test.go:109: allowed: 1140, denied: 998860
    ratelimiter_test.go:109: allowed: 1141, denied: 9150882
BenchmarkLimiter/reserve-canceling-every-3/parallel/real-4                    	 5654222	       213.8 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1463, denied: 8537
    ratelimiter_test.go:109: allowed: 2204, denied: 997796
    ratelimiter_test.go:109: allowed: 1477, denied: 5652745
BenchmarkLimiter/reserve-canceling-every-3/parallel/real-8                    	 4098885	       308.7 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 985668, denied: 14332
    ratelimiter_test.go:109: allowed: 4049883, denied: 49002
BenchmarkLimiter/reserve-canceling-every-3/parallel/real-32                   	 3155011	       388.9 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 999324, denied: 676
    ratelimiter_test.go:109: allowed: 3154984, denied: 27
BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time          	11683171	       102.5 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1757, denied: 8243
    ratelimiter_test.go:109: allowed: 1740, denied: 998260
    ratelimiter_test.go:109: allowed: 1736, denied: 11681435
BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-2        	 8993715	       124.7 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1798, denied: 8202
    ratelimiter_test.go:109: allowed: 1814, denied: 998186
    ratelimiter_test.go:109: allowed: 1777, denied: 8991938
BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-4        	 6846742	       173.9 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 6023, denied: 3977
    ratelimiter_test.go:109: allowed: 3253, denied: 996747
    ratelimiter_test.go:109: allowed: 6321, denied: 6840421
BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-8        	 4741263	       232.2 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 982653, denied: 17347
    ratelimiter_test.go:109: allowed: 4457193, denied: 284070
BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-32       	 3517291	       310.9 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/real_pinned_time-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 3517291, denied: 0
BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped                   	 5790434	       207.4 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2000, denied: 8000
    ratelimiter_test.go:109: allowed: 1976, denied: 998024
    ratelimiter_test.go:109: allowed: 1994, denied: 5788440
BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-2                 	 4542198	       263.6 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2304, denied: 7696
    ratelimiter_test.go:109: allowed: 2243, denied: 997757
    ratelimiter_test.go:109: allowed: 2243, denied: 4539955
BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-4                 	 3838662	       315.3 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2214, denied: 7786
    ratelimiter_test.go:109: allowed: 2133, denied: 997867
    ratelimiter_test.go:109: allowed: 2403, denied: 3836259
BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-8                 	 2998696	       395.5 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2346, denied: 7654
    ratelimiter_test.go:109: allowed: 2136, denied: 997864
    ratelimiter_test.go:109: allowed: 3009, denied: 2995687
BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-32                	 2203797	       621.3 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/wrapped-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2221, denied: 7779
    ratelimiter_test.go:109: allowed: 2172, denied: 997828
    ratelimiter_test.go:109: allowed: 2543, denied: 2201254
BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource         	 6226503	       191.1 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2142, denied: 7858
    ratelimiter_test.go:109: allowed: 2142, denied: 997858
    ratelimiter_test.go:109: allowed: 2142, denied: 6224361
BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-2       	 4896670	       244.7 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 2137, denied: 7863
    ratelimiter_test.go:109: allowed: 2124, denied: 997876
    ratelimiter_test.go:109: allowed: 2117, denied: 4894553
BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-4       	 3982285	       301.8 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1907, denied: 8093
    ratelimiter_test.go:109: allowed: 1848, denied: 998152
    ratelimiter_test.go:109: allowed: 1812, denied: 3980473
BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-8       	 3198088	       373.5 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1751, denied: 8249
    ratelimiter_test.go:109: allowed: 1676, denied: 998324
    ratelimiter_test.go:109: allowed: 1844, denied: 3196244
BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-32      	 2119542	       619.6 ns/op
--- BENCH: BenchmarkLimiter/reserve-canceling-every-3/parallel/mocked_timesource-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 1667, denied: 8333
    ratelimiter_test.go:109: allowed: 1708, denied: 998292
    ratelimiter_test.go:109: allowed: 1696, denied: 2117846
BenchmarkLimiter/wait/serial/2ns_rate/real                                    	 2443280	       501.1 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/real
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2443280, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/real-2                                  	 2923812	       421.5 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/real-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2923812, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/real-4                                  	 3020070	       401.0 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/real-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 3020070, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/real-8                                  	 3006872	       412.0 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/real-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 3006872, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/real-32                                 	 2969900	       399.5 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/real-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2969900, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/wrapped                                 	 2309324	       534.6 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/wrapped
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2309324, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/wrapped-2                               	 2863126	       427.8 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/wrapped-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2863126, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/wrapped-4                               	 2753125	       433.5 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/wrapped-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2753125, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/wrapped-8                               	 2806875	       423.1 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/wrapped-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2806875, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/wrapped-32                              	 2861227	       415.6 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/wrapped-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 2861227, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource                       	 5559716	       217.9 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 5559716, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-2                     	 6313159	       189.7 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6313159, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-4                     	 6095300	       190.1 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6095300, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-8                     	 6270583	       190.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6270583, denied: 0
BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-32                    	 6203318	       191.0 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/2ns_rate/mocked_timesource-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6203318, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/real                                    	 1201164	      1032 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/real
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201164, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/real-2                                  	 1201178	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/real-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201178, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/real-4                                  	 1201179	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/real-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201179, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/real-8                                  	 1201182	       999.8 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/real-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201182, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/real-32                                 	 1000000	      1002 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/real-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/wrapped                                 	 1201180	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/wrapped
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201180, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/wrapped-2                               	 1201168	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/wrapped-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201168, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/wrapped-4                               	 1201183	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/wrapped-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201183, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/wrapped-8                               	 1201177	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/wrapped-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201177, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/wrapped-32                              	 1201144	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/wrapped-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 1201144, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource                       	 5522211	       218.5 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 5522211, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-2                     	 6256778	       189.5 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-2
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6256778, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-4                     	 6313293	       191.2 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-4
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6313293, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-8                     	 6220632	       190.7 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-8
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6220632, denied: 0
BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-32                    	 6238201	       190.9 ns/op
--- BENCH: BenchmarkLimiter/wait/serial/1µs_rate/mocked_timesource-32
    ratelimiter_test.go:93: allowed: 1, denied: 0
    ratelimiter_test.go:93: allowed: 100, denied: 0
    ratelimiter_test.go:93: allowed: 10000, denied: 0
    ratelimiter_test.go:93: allowed: 1000000, denied: 0
    ratelimiter_test.go:93: allowed: 6238201, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/real                                  	 2546625	       474.3 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/real
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 2546625, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/real-2                                	 4243497	       282.9 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/real-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4243497, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/real-4                                	 3794864	       320.9 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/real-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 3794864, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/real-8                                	 2587140	       483.4 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/real-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 2587140, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/real-32                               	 2019115	       609.0 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/real-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 2019115, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/wrapped                               	 2223363	       535.3 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/wrapped
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 2223363, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-2                             	 4093198	       294.3 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4093198, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-4                             	 3548970	       335.6 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 3548970, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-8                             	 1962897	       620.9 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1962897, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-32                            	 1352185	       844.0 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/wrapped-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1352185, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource                     	 5494659	       221.5 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 5494659, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-2                   	 5834499	       204.4 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 5834499, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-4                   	 4876269	       245.1 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4876269, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-8                   	 4426732	       268.1 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4426732, denied: 0
BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-32                  	 4151428	       284.6 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/2ns_rate/mocked_timesource-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4151428, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/real                                  	 1201107	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/real
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1201107, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/real-2                                	 1216881	       985.6 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/real-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1216881, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/real-4                                	 1290550	       934.4 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/real-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1290550, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/real-8                                	 2577314	       458.3 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/real-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 2577314, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/real-32                               	 1920840	       604.8 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/real-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1920840, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/wrapped                               	 1201173	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/wrapped
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1201173, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-2                             	 1201162	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1201162, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-4                             	 1201155	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1201155, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-8                             	 1201170	       999.2 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1201170, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-32                            	 1201152	      1020 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/wrapped-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 1201152, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource                     	 4758969	       221.9 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4758969, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-2                   	 5676320	       217.0 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-2
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 5676320, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-4                   	 4881918	       248.5 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-4
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4881918, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-8                   	 4474816	       269.0 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-8
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4474816, denied: 0
BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-32                  	 4003708	       278.7 ns/op
--- BENCH: BenchmarkLimiter/wait/parallel/1µs_rate/mocked_timesource-32
    ratelimiter_test.go:109: allowed: 1, denied: 0
    ratelimiter_test.go:109: allowed: 100, denied: 0
    ratelimiter_test.go:109: allowed: 10000, denied: 0
    ratelimiter_test.go:109: allowed: 1000000, denied: 0
    ratelimiter_test.go:109: allowed: 4003708, denied: 0
PASS
ok  	github.com/uber/cadence/common/clock	203.664s